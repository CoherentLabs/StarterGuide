<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://starter.coherent-labs.com/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://starter.coherent-labs.com/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=/main.a662bc8e4f8970ca3ed4c0b575059530e22afc4a615e0c418f4f4a8d03ad42b693e5a73b57997b2af4cbdd5185b3b5bb7e95a15b3f11d857533644f2c2436bba.css integrity="sha512-pmK8jk+JcMo+1MC1dQWVMOIq/EphXgxBj09KjQOtQraT5ac7V5l7KvTL3VGFs7W7fpWhWz8R2FdTNkTywkNrug==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Chapter 5: Pause Menu - Gameface Starter Guide</title><meta name=description content><link rel=canonical href=https://starter.coherent-labs.com/chapters/chapter-5/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Chapter 5: Pause Menu"><meta property="og:description" content="In this chapter we will learn:
 how to capture input from the keyboard in the UI, how to emit an event from the UI to the game, mock how the game handles the event.  For this purpose we will create a Pause Menu - it will open when the ESC key on the keyboard is pressed, and close once the same key is pressed again.
First we will start with the model by adding a new property called isPaused with a value false."><meta property="og:url" content="https://starter.coherent-labs.com/chapters/chapter-5/"><meta property="og:site_name" content="Gameface Starter Guide"><meta property="article:published_time" content="2021-09-15T08:39:09+03:00"><meta property="article:modified_time" content="2021-09-15T08:39:09+03:00"><meta property="og:image" content="https://starter.coherent-labs.com/doks.png"><meta property="og:image:alt" content="Gameface Starter Guide"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@getdoks"><meta name=twitter:creator content="@henkverlinde"><meta name=twitter:title content="Chapter 5: Pause Menu"><meta name=twitter:description content><meta name=twitter:image content="https://starter.coherent-labs.com/doks.png"><meta name=twitter:image:alt content="Chapter 5: Pause Menu"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://starter.coherent-labs.com/#/schema/organization/1","name":"Doks","url":"https://starter.coherent-labs.com/","sameAs":["https://twitter.com/getdoks","https://github.com/h-enk/doks"],"logo":{"@type":"ImageObject","@id":"https://starter.coherent-labs.com/#/schema/image/1","url":"https://starter.coherent-labs.com/logo-doks.png","width":512,"height":512,"caption":"Doks"},"image":{"@id":"https://starter.coherent-labs.com/#/schema/image/1"}},{"@type":"WebSite","@id":"https://starter.coherent-labs.com/#/schema/website/1","url":"https://starter.coherent-labs.com/","name":"Gameface Starter Guide","description":"","publisher":{"@id":"https://starter.coherent-labs.com/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://starter.coherent-labs.com/chapters/chapter-5/","url":"https://starter.coherent-labs.com/chapters/chapter-5/","name":"Chapter 5: Pause Menu","description":"","isPartOf":{"@id":"https://starter.coherent-labs.com/#/schema/website/1"},"about":{"@id":"https://starter.coherent-labs.com/#/schema/organization/1"},"datePublished":"2021-09-15T08:39:09CET","dateModified":"2021-09-15T08:39:09CET","breadcrumb":{"@id":"https://starter.coherent-labs.com/chapters/chapter-5/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://starter.coherent-labs.com/chapters/chapter-5/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://starter.coherent-labs.com/chapters/chapter-5/"]}]},{"@type":"BreadcrumbList","@id":"https://starter.coherent-labs.com/chapters/chapter-5/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://starter.coherent-labs.com","url":"https://starter.coherent-labs.com","name":"Home"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://starter.coherent-labs.com/chapters/","url":"https://starter.coherent-labs.com/chapters/","name":"Chapters"}},{"@type":"ListItem","position":4,"item":{"@id":"https://starter.coherent-labs.com/chapters/chapter-5/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://starter.coherent-labs.com/chapters/chapter-5/#/schema/image/2","url":"https://starter.coherent-labs.com/doks.png","contentUrl":"https://starter.coherent-labs.com/doks.png","caption":"Chapter 5: Pause Menu"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://starter.coherent-labs.com/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://starter.coherent-labs.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://starter.coherent-labs.com/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://starter.coherent-labs.com/site.webmanifest></head><body class="chapters single"><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=/ aria-label=Bootstrap>Gameface Starter Guide</a>
<button class="btn btn-menu d-block d-md-none order-5" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-start border-0 py-md-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-md-none"></div><div class="offcanvas-header d-md-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=/>Gameface Starter Guide</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body px-4"><h3 class="h6 text-uppercase mb-3 d-md-none">Main</h3><ul class="nav flex-column flex-md-row ms-md-n3"><li class=nav-item><a class="nav-link ps-0 py-1" href=/chapters/>FrontEnd</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/unreal-chapters/>Unreal Engine</a></li></ul><hr class="text-black-50 my-4 d-md-none"><h3 class="h6 text-uppercase mb-3 d-md-none">Socials</h3><ul class="nav flex-column flex-md-row ms-md-auto me-md-n5 pe-md-2"></ul></div></div></nav></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-chapters aria-expanded=true>
Chapters</button><div class="collapse show" id=section-chapters><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/chapters/chapter-1/>Chapter 1: Getting Started</a></li><li><a class="docs-link rounded" href=/chapters/chapter-2/>Chapter 2: Creating our first UI component</a></li><li><a class="docs-link rounded" href=/chapters/chapter-3/>Chapter 3: Health Bar</a></li><li><a class="docs-link rounded" href=/chapters/chapter-4/>Chapter 4: Minimap</a></li><li><a class="docs-link rounded active" href=/chapters/chapter-5/>Chapter 5: Pause Menu</a></li><li><a class="docs-link rounded" href=/chapters/chapter-6/>Chapter 6: Settings Menu</a></li><li><a class="docs-link rounded" href=/chapters/chapter-7/>Chapter 7: Adding more menus</a></li><li><a class="docs-link rounded" href=/chapters/chapter-8/>Chapter 8: Inventory</a></li><li><a class="docs-link rounded" href=/chapters/chapter-9/>Chapter 9: Map</a></li><li><a class="docs-link rounded" href=/chapters/chapter-10/>Chapter 10: Debugging, Profiling and Optimizations</a></li><li><a class="docs-link rounded" href=/chapters/chapter-11/>Bonus Chapter: How to prepare your UI to work with a backend</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#hiding-our-pause-menu-using-data-binding>Hiding our pause menu using data-binding</a></li><li><a href=#capturing-key-strokes>Capturing key strokes</a></li><li><a href=#listening-and-triggering-events>Listening and triggering events</a></li><li><a href=#get-the-chapter-files>Get the chapter files</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/chapters/>Chapters</a></li><li class="breadcrumb-item active" aria-current=page>Chapter 5: Pause Menu</li></ol></nav><h1>Chapter 5: Pause Menu</h1><p class=lead></p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#hiding-our-pause-menu-using-data-binding>Hiding our pause menu using data-binding</a></li><li><a href=#capturing-key-strokes>Capturing key strokes</a></li><li><a href=#listening-and-triggering-events>Listening and triggering events</a></li><li><a href=#get-the-chapter-files>Get the chapter files</a></li></ul></nav></div></nav><p>In this chapter we will learn:</p><ul><li>how to capture input from the keyboard in the UI,</li><li>how to emit an event from the UI to the game,</li><li>mock how the game handles the event.</li></ul><p>For this purpose we will create a Pause Menu - it will open when the ESC key on the keyboard is pressed, and close once the same key is pressed again.</p><p>First we will start with the model by adding a new property called isPaused with a value false.</p><pre><code>isPaused: false
</code></pre><p>Then in the <code>index.html</code> we will create a pause-menu container.</p><pre><code>&lt;div class=&quot;pause-menu&quot;&gt;
        
&lt;/div&gt;
</code></pre><p>To begin with, we will leave this empty - we will start adding content in the next chapter; for now, we only need to toggle it to be visible. If we open the project in the Player we will see a black screen, indicating that the pause menu is showing. Now let‚Äôs hide it.</p><h2 id=hiding-our-pause-menu-using-data-binding>Hiding our pause menu using data-binding<a href=#hiding-our-pause-menu-using-data-binding class=anchor aria-hidden=true>#</a></h2><p>To do that we will be using yet another data-binding (instead of a styling one, this time it will be a structural one, allowing us to modify the DOM) - data-bind-if. It works as a regular if statement in that if the passed data is true, the element will be resolved; else it would not. For our case we will add:</p><pre><code>&lt;div class=&quot;pause-menu&quot; data-bind-if=&quot;{{PlayerModel.isPaused}}&quot;&gt;&lt;/div&gt;
</code></pre><p>If the <code>isPaused</code> property in our model is <strong>true</strong>, then the pause menu will show; otherwise it would not. We can confirm this by opening the Player - we can see that the HUD we did in the previous chapters is showing.</p><h2 id=capturing-key-strokes>Capturing key strokes<a href=#capturing-key-strokes class=anchor aria-hidden=true>#</a></h2><p>Next, we will trigger the model to change from the keyboard. This can be achieved by adding the following code in the <code>script.js</code> file:</p><pre><code>document.addEventListener('keydown', (e) =&gt; {
    
})
</code></pre><p>This will attach the <code>keydown</code> event to our document, meaning that the function will trigger whenever we press any key on the keyboard. However, we only want this to work for the ESC key. To be able to discern which the correct key is, we will use the keycode that we get from the event object and create a conditional statement: only if the correct key is pressed would the code execute. In our case, the correct keycode for <strong>ESC</strong> will be <strong>27</strong>.</p><div class="alert alert-warning d-flex" role=alert><div class="flex-shrink-1 alert-icon">üí°</div><div class=w-100>To check what keycode is assigned to each button, you can use this <a href=https://keycode.info/>website</a>.</div></div><p>Now we can add the following code:</p><pre><code>document.addEventListener('keydown', (e) =&gt; {
    if (e.keyCode === 27) {
        
    }
})
</code></pre><p>Note that everything included as part of the if statement will be executed. Here we can add our code to change the model:</p><pre><code>    if (e.keyCode === 27) {
        PlayerModel.isPaused = !PlayerModel.isPaused;
        engine.updateWholeModel(PlayerModel);
        engine.synchronizeModels();
    }
</code></pre><p>This will set our model to the opposite of what it was (for example, if <code>false</code>, it will be set to <code>true</code>, and vice versa). If you recall from Chapter 2, every time we change a model we have to update it and then synchronize it - that way our data-bindings would reflect the change. On that basis, if we open the Player, refresh and press the <strong>ESC</strong> key, we can see that the pause menu is toggled.</p><h2 id=listening-and-triggering-events>Listening and triggering events<a href=#listening-and-triggering-events class=anchor aria-hidden=true>#</a></h2><p>While this looks incredibly simple, the truth is that in a real world UI we cannot change the model from the frontend. And even if we could, the game would still go on as it does not know that we have paused it. For this reason, we will mock the way this would be handled if we had a backend.</p><p>To accomplish this we will use a method of the <code>engine</code> object called <code>trigger()</code>. This will allow us to emit an event to the backend so that it knows to pause the game and change the model. Since we do not have one yet, we will be using another function of the engine object called <code>on()</code>, which will allow us to listen to emitted events.</p><p>In our script.js file we will add the following code:</p><pre><code>engine.on('pause_toggle', () =&gt; {
    
})
</code></pre><p>This will allow us to listen to the <code>pause_toggle</code> event that we will emit when pressing the <strong>ESC</strong> key. Inside, we will copy the code from the if statement above.</p><pre><code>engine.on(&quot;pause_toggle&quot;, () =&gt; {
    PlayerModel.isPaused = !PlayerModel.isPaused;
    engine.updateWholeModel(PlayerModel);
    engine.synchronizeModels();
});
</code></pre><div class="alert alert-warning d-flex" role=alert><div class="flex-shrink-1 alert-icon">‚ùó</div><div class=w-100>In a real-world situation we would not have to listen to events emitted from the frontend in the frontend (since all of it will need to go through the backend).</div></div><p>And now we can emit our event.</p><pre><code>document.addEventListener(&quot;keydown&quot;, (e) =&gt; {
    if (e.keyCode === 27) {
        engine.trigger(&quot;pause_toggle&quot;);
    }
});
</code></pre><p>If we save and go to the Player, refresh and press <strong>ESC</strong>, we will see that nothing has changed.The pause menu still opens and closes when we press the button.</p><p>In this chapter we learned the other method we have of communicating with the backend. As we can see, the different scenarios have different use cases - you need to decide on which to use, depending on what you need to accomplish.</p><p>In <strong>Chapter 6</strong> we will start to fill up our pause menu with a settings screen. We will explain how to use the components library we have created in a way that would make your work faster and more concise.</p><h2 id=get-the-chapter-files>Get the chapter files<a href=#get-the-chapter-files class=anchor aria-hidden=true>#</a></h2><p>You can download the completed chapter from <a href=https://github.com/CoherentLabs/StarterGuide/raw/master/files/chapter_5/chapter_5.zip>here</a></p><div class=my-n3></div></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a>, and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=/js/bootstrap.min.592b9faf6c83a2bda564a377cf82f9a67546b198510a93fdb0728f9622ec22729d44be02fb2ea16c3fe5365ae1806259cd111932ca28e68b66462d6937635bab.js integrity="sha512-WSufr2yDor2lZKN3z4L5pnVGsZhRCpP9sHKPliLsInKdRL4C+y6hbD/lNlrhgGJZzREZMsoo5otmRi1pN2Nbqw==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.88df7ec5d9693ad9d3c4f131a6974c6b0d00561526e939ea196b4f198ecdcfbac25d69d58367fde8df923823110dba6d1a7eabe44b7ea52559e92d0751b17869.js integrity="sha512-iN9+xdlpOtnTxPExppdMaw0AVhUm6TnqGWtPGY7Nz7rCXWnVg2f96N+SOCMRDbptGn6r5Et+pSVZ6S0HUbF4aQ==" crossorigin=anonymous defer></script>
<script src=/main.min.dabf7f45921a731f1f8e566e38aed10bb67fb15f4056a8d7e7b56548bb63e1242016c0d83ab86eefab01a24933f8aa4f6e183ba127726dcb59f051ed0ec9f345.js integrity="sha512-2r9/RZIacx8fjlZuOK7RC7Z/sV9AVqjX57VlSLtj4SQgFsDYOrhu76sBokkz+KpPbhg7oSdybctZ8FHtDsnzRQ==" crossorigin=anonymous defer></script></body></html>